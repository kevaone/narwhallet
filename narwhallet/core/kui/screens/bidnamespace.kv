<BidNamespaceScreen>
    wallet_name: wallet_name
    wallet_balance: wallet_balance
    bid_namespaceid: bid_namespaceid
    bid_namespace_address: bid_namespace_address
    bid_amount: bid_amount
    offer_namespaceid: offer_namespaceid
    offer_shortcode: offer_shortcode
    offer_tx: offer_tx
    offer_name: offer_name
    offer_namespace_address: offer_namespace_address
    offer_payment_address: offer_payment_address
    offer_asking_price: offer_asking_price
    offer_description: offer_description
    valid_bid_amount: valid_bid_amount
    header: header
    btn_send: btn_send
    btn_file: btn_file

    GridLayout:
        size: root.width, root.height
        cols: 1

        Header:
            id: header

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(15)
            scroll_type: ['bars','content']

            Nwboxlayout:
                orientation: 'vertical'
                size_hint_y: None
                height: dp(535)
                canvas:
                    Color:
                        rgba: 36/255, 36/255, 36/255, 1

                    Rectangle:
                        pos: self.pos
                        size: self.size

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(10)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        valign: 'center'
                        _text: 'Wallet:'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(75)
                        padding: [10, 0, 0, 0]

                    Spinner:
                        id: wallet_name
                        halign: 'center'
                        valign: 'center'
                        _text: 'Select Wallet'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(175)
                        on_text: root.wallet_changed()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        valign: 'center'
                        _text: 'Namespace:'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(125)
                        padding: [10, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: dp(10)

                    Spinner:
                        id: bid_namespaceid
                        halign: 'center'
                        valign: 'center'
                        _text: 'Select NS'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(350)
                        on_text: root.ns_changed()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'Bid NS Address:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(125)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        id: bid_namespace_address
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        padding: [15, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'Balance:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(125)

                    Nwlabel:
                        id: wallet_balance
                        halign: 'left'
                        _text: ''
                        text_size: self.size

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        valign: 'top'
                        _text: 'Asking Price:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(125)

                    Nwlabel:
                        id: offer_asking_price
                        halign: 'left'
                        valign: 'top'
                        _text: ''
                        text_size: self.size

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        valign: 'center'
                        _text: 'Bid Amount:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(125)

                    TextInput:
                        id: bid_amount
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: dp(175)
                        write_tab: False
                        on_text: root.check_amount()
                        input_filter: root.bid_amount_input_filter

                    Nwimage:
                        id: valid_bid_amount
                        source: 'narwhallet/core/kui/assets/checkmark.png'
                        size: (0, 0)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(10)
                    orientation: 'horizontal'

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'Shortcode:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(125)

                    Nwlabel:
                        id: offer_shortcode
                        halign: 'left'
                        _text: ''
                        text_size: self.size

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'Name:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(125)

                    Nwlabel:
                        id: offer_name
                        halign: 'left'
                        _text: ''
                        text_size: self.size

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'Description:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(100)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        id: offer_description
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        padding: [15, 0, 0, 0]

                Nwboxlayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: dp(5)

                Nwseparator:

                Nwseparator:
                    color: [54/255, 58/255, 59/255, 1]

                Nwboxlayout:
                    orientation: 'vertical'
                    size_hint_y: None
                    height: dp(5)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'NS:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(100)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        id: offer_namespaceid
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        padding: [15, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'NS Address:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(100)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        id: offer_namespace_address
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        padding: [15, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        _text: 'Payment Address:'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(175)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(20)
                    orientation: 'horizontal'

                    Nwlabel:
                        id: offer_payment_address
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        padding: [15, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        id: offer_tx
                        halign: 'left'
                        _text: ''
                        text_size: self.size
                        padding: [10, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(10)
                    orientation: 'horizontal'

        BoxLayout:
            canvas:
                Color:
                    rgba: 60/255, 61/255, 61/255, 1

                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: None
            height: dp(60)
            orientation: 'horizontal'

            Nwbutton:
                _text: 'Cancel'
                on_press: root.manager.current = 'namespacealt_screen'

            Nwbutton:
                id: btn_file
                _text: 'Save PSBT'
                on_press: root.build_file()

            Nwbutton:
                id: btn_send
                _text: 'Create TX'
                on_press: root.build_send()
