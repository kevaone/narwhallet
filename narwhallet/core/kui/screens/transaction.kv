#:import _tr narwhallet.core.kui._translate

<TransactionScreen>
    txid: txid
    tx_hash: tx_hash
    version: version
    tx_size: tx_size
    vsize: vsize
    locktime: locktime
    blockhash: blockhash
    vin: vin
    vout: vout
    hex: hex
    confirmations: confirmations
    time: time
    blocktime: blocktime
    header: header

    GridLayout:
        size: root.width, root.height
        cols: 1

        Header:
            id: header

        Nwboxlayout:
            size_hint_y: None
            height: dp(10)

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('TX ID:')
                text_size: self.size
                size_hint_x: None
                width: dp(85)
                padding: [10, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(40) if root.width <= dp(650) else dp(20)

            Nwlabel:
                id: txid
                halign: 'left'
                text: ''
                text_size: self.size
                padding: [10, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('TX Hash:')
                text_size: self.size
                size_hint_x: None
                width: dp(85)
                padding: [10, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(40) if root.width <= dp(650) else dp(20)

            Nwlabel:
                id: tx_hash
                halign: 'left'
                text: ''
                text_size: self.size
                padding: [10, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('Block Hash:')
                text_size: self.size
                size_hint_x: None
                width: dp(85)
                padding: [10, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(40) if root.width <= dp(650) else dp(20)

            Nwlabel:
                id: blockhash
                halign: 'left'
                text: ''
                text_size: self.size
                padding: [10, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('Block Time:')
                text_size: self.size
                size_hint_x: None
                width: dp(85)
                padding: [10, 0, 0, 0]

            Nwlabel:
                id: blocktime
                halign: 'left'
                text: ''
                text_size: self.size

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('TX Size:')
                text_size: self.size
                size_hint_x: None
                width: dp(85)
                padding: [10, 0, 0, 0]

            Nwlabel:
                id: tx_size
                halign: 'left'
                text: ''
                text_size: self.size
                size_hint_x: None
                width: dp(85)

            Nwlabel:
                halign: 'left'
                text: _tr.translate('vsize:')
                text_size: self.size
                size_hint_x: None
                width: dp(65)

            Nwlabel:
                id: vsize
                halign: 'left'
                text: ''
                text_size: self.size
                size_hint_x: None
                width: dp(50)

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('time:')
                text_size: self.size
                padding: [10, 0, 0, 0]

            Nwlabel:
                id: time
                halign: 'left'
                text: ''
                text_size: self.size

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)

            Nwlabel:
                halign: 'left'
                text: _tr.translate('version:')
                text_size: self.size
                padding: [10, 0, 0, 0]

            Nwlabel:
                id: version
                halign: 'left'
                text: ''
                text_size: self.size

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)

            Nwlabel:
                halign: 'left'
                text: _tr.translate('confirmation:')
                text_size: self.size
                padding: [10, 0, 0, 0]

            Nwlabel:
                id: confirmations
                halign: 'left'
                text: ''
                text_size: self.size

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)

            Nwlabel:
                halign: 'left'
                text: _tr.translate('lock time:')
                text_size: self.size
                padding: [10, 0, 0, 0]

            Nwlabel:
                id: locktime
                halign: 'left'
                text: ''
                text_size: self.size

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                text: _tr.translate('Inputs:')
                halign: 'left'
                text_size: self.size
                padding: [10, 0, 0, 0]

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(15)
            scroll_type: ['bars','content']

            GridLayout:
                id: vin
                canvas:
                    Color:
                        rgba: 60/255, 61/255, 61/255, 1

                    Rectangle:
                        pos: self.pos
                        size: self.size
                size_hint_y: None
                # height: self.minimum_height * 15
                height: self.minimum_height * dp(9) if root.width <= dp(650) else self.minimum_height * dp(7)
                cols: 1
                spacing: dp(5)
                padding: dp(5)

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                text: _tr.translate('Outputs:')
                halign: 'left'
                text_size: self.size
                padding: [10, 0, 0, 0]

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(15)
            scroll_type: ['bars','content']

            GridLayout:
                id: vout
                canvas:
                    Color:
                        rgba: 60/255, 61/255, 61/255, 1

                    Rectangle:
                        pos: self.pos
                        size: self.size
                size_hint_y: None
                # height: self.minimum_height * 15
                height: self.minimum_height * dp(14) if root.width <= dp(650) else self.minimum_height * dp(7)
                cols: 1
                spacing: dp(5)
                padding: dp(5)


        Nwboxlayout:
            size_hint_y: None
            height: dp(35)
            orientation: 'horizontal'

            Nwlabel:
                halign: 'left'
                text: _tr.translate('hex:')
                text_size: self.size
                padding: [10, 0, 0, 0]

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(15)
            scroll_type: ['bars','content']

            Nwboxlayout:
                orientation: 'horizontal'
                size_hint_y: None
                height: dp(250)

                Nwlabel:
                    id: hex
                    halign: 'left'
                    valign: 'top'
                    text: ''
                    text_size: self.size
                    # size_hint_y: None
                    padding: [10, 0, 0, 0]

        BoxLayout:
            canvas:
                Color:
                    rgba: 60/255, 61/255, 61/255, 1

                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: None
            height: dp(60)
            orientation: 'horizontal'

            Nwbutton:
                text: _tr.translate('Wallet')
                on_press: root.manager.current = 'wallet_screen'

            Nwbutton:
                text: _tr.translate('History')
                on_press: root.manager.current = 'transactions_screen'
