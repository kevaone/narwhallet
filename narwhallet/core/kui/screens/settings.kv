<SettingsScreen>
    iserver_host: iserver_host
    iserver_port: iserver_port
    iserver_althost: iserver_althost
    iserver_altport: iserver_altport
    iserver_ssl_0: iserver_ssl_0
    iserver_verify_0: iserver_verify_0
    iserver_altssl_0: iserver_altssl_0
    iserver_altverify_0: iserver_altverify_0
    iserver_ssl_1: iserver_ssl_1
    iserver_verify_1: iserver_verify_1
    iserver_altssl_1: iserver_altssl_1
    iserver_altverify_1: iserver_altverify_1
    ipfs_gateway: ipfs_gateway
    ipfs_gateway_alt: ipfs_gateway_alt
    iserver_ipfs_0: iserver_ipfs_0
    iserver_ipfs_1: iserver_ipfs_1
    iserver_active_0: iserver_active_0
    iserver_active_1: iserver_active_1
    header: header
    show_change: show_change
    connection_status: ''
    # content_provider_host: content_provider_host
    # content_provider_port: content_provider_port
    # content_provider_ssl_0: content_provider_ssl_0
    # content_provider_ssl_1: content_provider_ssl_1
    # content_provider_verify_0: content_provider_verify_0
    # content_provider_verify_1: content_provider_verify_1
    lang: lang

    GridLayout:
        size_hint: None, None
        size: root.width, root.height
        cols: 1

        Header:
            id: header
            value: 'Settings'

        Nwboxlayout:
            size_hint_y: None
            height: dp(10)

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: dp(15)
            scroll_type: ['bars','content']

            GridLayout:
                canvas:
                    Color:
                        rgba: 36/255, 36/255, 36/255, 1

                    Rectangle:
                        pos: self.pos
                        size: self.size
                size_hint_y: None
                rows: 21
                height: dp(35) * self.rows + (dp(10)*self.rows) if root.width <= dp(650) else dp(35) * self.rows + (dp(10)*self.rows)
                cols: 1
                # row_default_height: 65 if root.width <= 650 else 65
                spacing: dp(5)
                padding: dp(5)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        # text: 'General Settings')
                        _text: 'General Settings'
                        # text: self._text)
                        halign: 'left'
                        font_size: dp(25)
                        text_size: self.size
                        padding: [10, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwlabel:
                        # text: 'Language:')
                        _text: 'Language:'
                        # text: self._text)
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(200)

                    Spinner:
                        id: lang
                        halign: 'center'
                        valign: 'center'
                        _text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: dp(200)
                        on_text: root.update_lang()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Show Change Addresses:'
                        # text: self._text)
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(200)

                    Nwtogglebutton:
                        id: show_change
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'Yes'
                        group: 'change'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_show_change_option()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Connection Settings'
                        # text: self._text)
                        halign: 'left'
                        font_size: dp(25)
                        text_size: self.size
                        padding: [10, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Status:'
                        # text: self._text)
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    Nwlabel:
                        _text: root.connection_status
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Server:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    TextInput:
                        id: iserver_host
                        halign: 'left'
                        _text: 'kva.keva.one'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(250)
                        on_text: root.update_host()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Port:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    TextInput:
                        id: iserver_port
                        halign: 'left'
                        _text: '50002'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(250)
                        on_text: root.update_port()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'SSL:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    Nwtogglebutton:
                        id: iserver_ssl_0
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'Yes'
                        group: 'ssl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(0, 3, True)

                    Nwtogglebutton:
                        id: iserver_ssl_1
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'No'
                        group: 'ssl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(0, 3, False)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Validate SSL:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    Nwtogglebutton:
                        id: iserver_verify_0
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'Yes'
                        group: 'vssl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(0, 4, True)

                    Nwtogglebutton:
                        id: iserver_verify_1
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'No'
                        group: 'vssl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(0, 4, False)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwtogglebutton:
                        id: iserver_active_0
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(150)
                        _text: 'Active'
                        group: 'con'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_active(0)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Alt Server:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    TextInput:
                        id: iserver_althost
                        halign: 'left'
                        _text: 'kva.keva.one'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(250)
                        on_text: root.update_althost()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Alt Port:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    TextInput:
                        id: iserver_altport
                        halign: 'left'
                        _text: '50002'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(250)
                        on_text: root.update_altport()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'SSL:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    Nwtogglebutton:
                        id: iserver_altssl_0
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'Yes'
                        group: 'assl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(1, 3, True)

                    Nwtogglebutton:
                        id: iserver_altssl_1
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'No'
                        group: 'assl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(1, 3, False)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Validate SSL:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    Nwtogglebutton:
                        id: iserver_altverify_0
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'Yes'
                        group: 'avssl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(1, 4, True)

                    Nwtogglebutton:
                        id: iserver_altverify_1
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(75)
                        _text: 'No'
                        group: 'avssl'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ssl_option(1, 4, False)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwtogglebutton:
                        id: iserver_active_1
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(150)
                        _text: 'Active'
                        group: 'con'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_active(1)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'IPFS Settings'
                        halign: 'left'
                        font_size: dp(25)
                        text_size: self.size
                        padding: [10, 0, 0, 0]

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Gateway:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    TextInput:
                        id: ipfs_gateway
                        _text: 'ipfs.keva.one'
                        halign: 'left'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(250)
                        on_text: root.update_ipfs()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwtogglebutton:
                        id: iserver_ipfs_0
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(150)
                        _text: 'Active'
                        group: 'ipfs'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ipfs_active(0)

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(35)
                    orientation: 'horizontal'

                    Nwlabel:
                        _text: 'Alt Gateway:'
                        halign: 'left'
                        valign: 'center'
                        text_size: self.size
                        padding: [10, 0, 0, 0]
                        size_hint_x: None
                        width: dp(115)

                    TextInput:
                        id: ipfs_gateway_alt
                        _text: 'ipfs.keva.one'
                        halign: 'left'
                        text_size: self.size
                        size_hint_x: None
                        width: dp(250)
                        on_text: root.update_altipfs()

                Nwboxlayout:
                    size_hint_y: None
                    height: dp(45)
                    orientation: 'horizontal'

                    Nwtogglebutton:
                        id: iserver_ipfs_1
                        text_size: self.size
                        font_size: dp(20)
                        size_hint_x: None
                        size_hint_y: None
                        height: dp(40)
                        width: dp(150)
                        _text: 'Active'
                        group: 'ipfs'
                        # state: 'down'
                        halign: 'center'
                        valign: 'center'
                        on_press: root.update_ipfs_active(1)

                # Nwboxlayout: # Spacer
                # Nwboxlayout:
                #     size_hint_y: None
                #     height: dp(35)
                #     orientation: 'horizontal'

                #     Nwlabel:
                #         _text: 'Content Provider')
                #         halign: 'left'
                #         font_size: dp(25)
                #         text_size: self.size
                #         padding: [10, 0, 0, 0]

                # Nwboxlayout:
                #     size_hint_y: None
                #     height: dp(35)
                #     orientation: 'horizontal'

                #     Nwlabel:
                #         _text: 'Server:')
                #         halign: 'left'
                #         valign: 'center'
                #         text_size: self.size
                #         padding: [10, 0, 0, 0]
                #         size_hint_x: None
                #         width: dp(115)

                #     TextInput:
                #         id: content_provider_host
                #         halign: 'left'
                #         _text: 'kva.keva.one'
                #         text_size: self.size
                #         size_hint_x: None
                #         width: dp(250)
                #         on_text: root.update_content_provider_host()

                # Nwboxlayout:
                #     size_hint_y: None
                #     height: dp(35)
                #     orientation: 'horizontal'

                #     Nwlabel:
                #         _text: 'Port:')
                #         halign: 'left'
                #         valign: 'center'
                #         text_size: self.size
                #         padding: [10, 0, 0, 0]
                #         size_hint_x: None
                #         width: dp(115)

                #     TextInput:
                #         id: content_provider_port
                #         halign: 'left'
                #         _text: '50002'
                #         text_size: self.size
                #         size_hint_x: None
                #         width: dp(250)
                #         on_text: root.update_content_provider_port()

                # Nwboxlayout:
                #     size_hint_y: None
                #     height: dp(45)
                #     orientation: 'horizontal'

                #     Nwlabel:
                #         _text: 'SSL:')
                #         halign: 'left'
                #         valign: 'center'
                #         text_size: self.size
                #         padding: [10, 0, 0, 0]
                #         size_hint_x: None
                #         width: dp(115)

                #     Nwtogglebutton:
                #         id: content_provider_ssl_0
                #         text_size: self.size
                #         font_size: dp(20)
                #         size_hint_x: None
                #         size_hint_y: None
                #         height: dp(40)
                #         width: dp(75)
                #         _text: 'Yes')
                #         group: 'ssl'
                #         # state: 'down'
                #         halign: 'center'
                #         valign: 'center'
                #         on_press: root.update_content_provider_ssl_option(0, 3, True)

                #     Nwtogglebutton:
                #         id: content_provider_ssl_1
                #         text_size: self.size
                #         font_size: dp(20)
                #         size_hint_x: None
                #         size_hint_y: None
                #         height: dp(40)
                #         width: dp(75)
                #         _text: 'No')
                #         group: 'ssl'
                #         # state: 'down'
                #         halign: 'center'
                #         valign: 'center'
                #         on_press: root.update_content_provider_ssl_option(0, 3, False)

                # Nwboxlayout:
                #     size_hint_y: None
                #     height: dp(45)
                #     orientation: 'horizontal'

                #     Nwlabel:
                #         _text: 'Validate SSL:')
                #         halign: 'left'
                #         valign: 'center'
                #         text_size: self.size
                #         padding: [10, 0, 0, 0]
                #         size_hint_x: None
                #         width: dp(115)

                #     Nwtogglebutton:
                #         id: content_provider_verify_0
                #         text_size: self.size
                #         font_size: dp(20)
                #         size_hint_x: None
                #         size_hint_y: None
                #         height: dp(40)
                #         width: dp(75)
                #         _text: 'Yes')
                #         group: 'vssl'
                #         # state: 'down'
                #         halign: 'center'
                #         valign: 'center'
                #         on_press: root.update_content_provider_ssl_option(0, 4, True)

                #     Nwtogglebutton:
                #         id: content_provider_verify_1
                #         text_size: self.size
                #         font_size: dp(20)
                #         size_hint_x: None
                #         size_hint_y: None
                #         height: dp(40)
                #         width: dp(75)
                #         _text: 'No')
                #         group: 'vssl'
                #         # state: 'down'
                #         halign: 'center'
                #         valign: 'center'
                #         on_press: root.update_content_provider_ssl_option(0, 4, False)

        BoxLayout:
            canvas:
                Color:
                    rgba: 60/255, 61/255, 61/255, 1

                Rectangle:
                    pos: self.pos
                    size: self.size
            size_hint_y: None
            height: dp(60)
            orientation: 'horizontal'

            Nwbutton:
                _text: 'Home'
                icon: 'narwhallet/core/kui/assets/home_white.png'
                icon_size: (dp(25), dp(25))
                icon_padding: dp(20)
                on_press: root.manager.current = 'home_screen'
                # on_text: self.text = self)
