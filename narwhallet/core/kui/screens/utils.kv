<UtilsScreen>
    wallet_name: wallet_name
    address: address
    pubk: pubk
    message: message
    # file: file
    signature: signature
    valid_sig: valid_sig
    # s_msg: s_msg
    # s_file: s_file
    header: header

    GridLayout:
        size: root.width, root.height
        cols: 1

        Header:
            id: header
            value: 'Utils'

        ScrollView:
            do_scroll_x: False
            do_scroll_y: True
            bar_width: 6
            scroll_type: ['bars','content']

            GridLayout:
                # canvas:
                #     Color:
                #         rgba: 60/255, 61/255, 61/255, 1

                #     Rectangle:
                #         pos: self.pos
                #         size: self.size
                size_hint_y: None
                rows: 17
                height: 45 * self.rows + (10*self.rows) if root.width <= 650 else 45 * self.rows + (10*self.rows)
                cols: 1
                # row_default_height: 65 if root.width <= 650 else 65
                spacing: 5
                padding: 5

                BoxLayout:
                    size_hint_y: None
                    height: 20
                    size_hint_x: None
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        valign: 'center'
                        text: 'Wallet:'
                        text_size: self.size
                        size_hint_x: None
                        width: 75
                        padding: [10, 0, 0, 0]

                BoxLayout:
                    size_hint_y: None
                    height: 35
                    size_hint_x: None
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    Spinner:
                        id: wallet_name
                        halign: 'center'
                        valign: 'center'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 200
                        on_text: root.sign_wallet_changed()

                BoxLayout:
                    size_hint_y: None
                    height: 20
                    size_hint_x: None
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        valign: 'center'
                        text: 'Address:'
                        text_size: self.size
                        size_hint_x: None
                        width: 100
                        padding: [10, 0, 0, 0]

                BoxLayout:
                    size_hint_y: None
                    height: 35
                    size_hint_x: None
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    Spinner:
                        id: address
                        halign: 'center'
                        valign: 'center'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 325
                        on_text: root.sign_address_changed()

                BoxLayout:
                    size_hint_y: None
                    height: 10
                    orientation: 'horizontal'

                BoxLayout:
                    size_hint_y: None
                    height: 20
                    orientation: 'horizontal'
                    size_hint_x: None

                    Nwlabel:
                        halign: 'left'
                        valign: 'center'
                        text: 'Public Key:'
                        text_size: self.size
                        size_hint_x: None
                        width: 150
                        padding: [10, 0, 0, 0]

                BoxLayout:
                    size_hint_y: None
                    height: 45
                    size_hint_x: None
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    TextInput:
                        id: pubk
                        halign: 'center'
                        valign: 'center'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 325

                BoxLayout:
                    size_hint_y: None
                    height: 10
                    orientation: 'horizontal'

                BoxLayout:
                    size_hint_y: None
                    height: 20
                    orientation: 'horizontal'

                    # ToggleButton:
                    #     id: s_msg
                    #     text_size: self.size
                    #     font_size: 20
                    #     padding: [10, 0, 0, 0]
                    #     size_hint_x: None
                    #     size_hint_y: None
                    #     height: 30
                    #     width: 75
                    #     text: ''
                    #     group: 'sign_target'
                    #     state: 'down'
                    #     halign: 'center'
                    #     valign: 'center'
                    #     # on_press: root.update_show_change_option()

                    Nwlabel:
                        halign: 'left'
                        text: 'Message:'
                        text_size: self.size
                        size_hint_x: None
                        width: 175
                        padding: [10, 0, 0, 0]

                BoxLayout:
                    size_hint_y: None
                    height: 125
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    TextInput:
                        id: message
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 250
                        padding: [10, 0, 0, 0]

                # BoxLayout:
                #     size_hint_y: None
                #     height: 35
                #     orientation: 'horizontal'

                #     # ToggleButton:
                #     #     id: s_file
                #     #     text_size: self.size
                #     #     font_size: 20
                #     #     padding: [10, 0, 0, 0]
                #     #     size_hint_x: None
                #     #     size_hint_y: None
                #     #     height: 30
                #     #     width: 75
                #     #     text: ''
                #     #     group: 'sign_target'
                #     #     state: 'normal'
                #     #     halign: 'center'
                #     #     valign: 'center'
                #     #     # on_press: root.update_show_change_option()

                #     Nwlabel:
                #         halign: 'left'
                #         text: 'File:'
                #         text_size: self.size
                #         size_hint_x: None
                #         width: 50
                #         padding: [10, 0, 0, 0]

                #     Nwlabel:
                #         id: file
                #         text: ''

                #     Nwbutton:
                #         text: '...'

                BoxLayout:
                    canvas:
                        Color:
                            rgba: 60/255, 61/255, 61/255, 1

                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint_y: None
                    height: 35
                    orientation: 'horizontal'
                    padding: [0, 2, 0, 2]

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    Nwbutton:
                        text: 'Sign'
                        size_hint_x: None
                        width: 150
                        on_press: root.sign_message()

                    # Nwbutton:
                    #     text: 'Verify'
                    #     size_hint_x: None
                    #     width: 150
                    #     on_press: root.verify_message()

                BoxLayout:
                    size_hint_y: None
                    height: 20
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        text: 'Signature:'
                        text_size: self.size
                        size_hint_x: None
                        width: 175
                        padding: [10, 0, 0, 0]

                BoxLayout:
                    size_hint_y: None
                    height: 125
                    orientation: 'horizontal'

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    TextInput:
                        id: signature
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 250
                        padding: [10, 0, 0, 0]

                BoxLayout:
                    canvas:
                        Color:
                            rgba: 60/255, 61/255, 61/255, 1

                        Rectangle:
                            pos: self.pos
                            size: self.size
                    size_hint_y: None
                    height: 35
                    orientation: 'horizontal'
                    padding: [0, 2, 0, 2]

                    Nwlabel:
                        halign: 'left'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 10

                    Nwbutton:
                        text: 'Verify'
                        size_hint_x: None
                        width: 150
                        on_press: root.verify_message()

                BoxLayout:
                    size_hint_y: None
                    height: 25
                    orientation: 'horizontal'

                    Nwlabel:
                        id: valid_sig
                        halign: 'left'
                        valign: 'center'
                        text: ''
                        text_size: self.size
                        size_hint_x: None
                        width: 250
                        padding: [10, 0, 0, 0]

    BoxLayout:
        orientation: 'horizontal'

    BoxLayout:
        canvas:
            Color:
                rgba: 60/255, 61/255, 61/255, 1

            Rectangle:
                pos: self.pos
                size: self.size
        size_hint_y: None
        height: 35
        orientation: 'horizontal'

        Nwbutton:
            text: 'Home'
            on_press: root.manager.current = 'home_screen'
