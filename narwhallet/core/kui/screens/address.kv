#:import _tr narwhallet.core.kui._translate

<AddressScreen>
    address: address
    balance: balance
    label: label
    qr_code: qr_code
    transactions: transactions
    transaction_list: transaction_list
    header: header

    GridLayout:
        size: root.width, root.height
        cols: 1

        Header:
            id: header

        Nwboxlayout:
            size_hint_y: None
            height: dp(10)

        Nwboxlayout:
            size_hint_y: None
            height: dp(25)
            orientation: 'horizontal'

            Nwlabel:
                text: ''
                size_hint_x: None
                width: dp(10)

            Nwimage:
                source: 'narwhallet/core/kui/assets/clipboard_white.png'
                height: dp(25)
                width: dp(25)
                on_touch_down: if self.collide_point(*args[1].pos): root.manager.copy_to_clipboard(root.address.text)

            Nwlabel:
                id: address
                text: ''
                font_size: dp(16)
                padding: [5, 0, 0, 0]

        Nwboxlayout:
            size_hint_y: None
            height: dp(25)
            orientation: 'horizontal'

            Nwlabel:
                text: _tr.translate('Label:')
                font_size: dp(16)
                padding: [10, 0, 0, 0]
                size_hint_x: None
                width: dp(70)

            Nwlabel:
                id: label
                halign: 'left'
                text: ''
                font_size: dp(16)

        Nwboxlayout:
            # size_hint_y: None
            # height: 65
            orientation: 'horizontal'

            QR_Code:
                id: qr_code

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                text: _tr.translate('Transactions:')
                font_size: dp(15)
                size_hint_x: None
                padding: [10, 0, 0, 0]
                width: dp(120)

            Nwlabel:
                id: transactions
                text: '0'
                font_size: dp(15)

        Nwboxlayout:
            size_hint_y: None
            height: dp(20)
            orientation: 'horizontal'

            Nwlabel:
                text: _tr.translate('Balance:')
                font_size: dp(15)
                size_hint_x: None
                padding: [10, 0, 0, 0]
                width: dp(120)

            Nwlabel:
                id: balance
                text: '0.0'
                font_size: dp(15)

        Nwboxlayout:
            size_hint_y: None
            height: dp(10)
            orientation: 'horizontal'

        RecycleView:
            id: transaction_list
            viewclass: 'TransactionListInfo'
            do_scroll_y: True
            bar_width: dp(15)
            scroll_type: ['bars','content']

            RecycleGridLayout:
                canvas:
                    Color:
                        rgba: 60/255, 61/255, 61/255, 1

                    Rectangle:
                        pos: self.pos
                        size: self.size
                size_hint_y: None
                height: self.minimum_height
                default_size: None, dp(85) if root.width <= dp(650) else dp(60)
                default_size_hint: 1, None
                cols: 1
                spacing: dp(5)
                padding: dp(5)

        BoxLayout:
            canvas:
                Color:
                    rgba: 60/255, 61/255, 61/255, 1

                Rectangle:
                    pos: self.pos
                    size: self.size
            orientation: 'horizontal'
            size_hint_y: None
            height: dp(60)

            Nwbutton:
                text: _tr.translate('Wallet')
                on_press: root.manager.current = 'wallet_screen'

            Nwbutton:
                text: _tr.translate('Addresses')
                on_press: root.manager.current = 'addresses_screen'
